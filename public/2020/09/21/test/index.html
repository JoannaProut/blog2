<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.74.3" />


<title>test - Joanna Prout</title>
<meta property="og:title" content="test - Joanna Prout">


  <link href='/favicon.ico' rel='icon' type='image/x-icon'/>



  








<link href='//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="/css/fonts.css" media="all">
<link rel="stylesheet" href="/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/" class="nav-logo">
    <img src="/images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/about/">About</a></li>
    
    <li><a href="https://github.com/joannaprout">GitHub</a></li>
    
    <li><a href="https://twitter.com/joieprout">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">2 min read</span>
    

    <h1 class="article-title">test</h1>

    
    <span class="article-date">2020-09-21</span>
    

    <div class="article-content">
      <p>TEST POST</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#load libaries</span>
<span style="color:#a6e22e">library </span>(tidyverse)
</code></pre></div><pre><code>## -- Attaching packages ---------------------- tidyverse 1.3.0 --
</code></pre><pre><code>## v ggplot2 3.3.2     v purrr   0.3.4
## v tibble  3.0.3     v dplyr   1.0.2
## v tidyr   1.1.1     v stringr 1.4.0
## v readr   1.3.1     v forcats 0.5.0
</code></pre><pre><code>## -- Conflicts ------------------------- tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">library </span>(directlabels)
<span style="color:#a6e22e">library </span>(patchwork)

<span style="color:#75715e">#set wd</span>
<span style="color:#a6e22e">setwd </span>(<span style="color:#e6db74">&#34;/Users/jprout/OneDrive - University of Maryland School of Medicine/R/blog2/blog2/content/post&#34;</span>)

<span style="color:#75715e">#Load data</span>
crop <span style="color:#f92672">&lt;-</span> readr<span style="color:#f92672">::</span><span style="color:#a6e22e">read_csv</span>(<span style="color:#e6db74">&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-09-01/key_crop_yields.csv&#39;</span>)
</code></pre></div><pre><code>## Parsed with column specification:
## cols(
##   Entity = col_character(),
##   Code = col_character(),
##   Year = col_double(),
##   `Wheat (tonnes per hectare)` = col_double(),
##   `Rice (tonnes per hectare)` = col_double(),
##   `Maize (tonnes per hectare)` = col_double(),
##   `Soybeans (tonnes per hectare)` = col_double(),
##   `Potatoes (tonnes per hectare)` = col_double(),
##   `Beans (tonnes per hectare)` = col_double(),
##   `Peas (tonnes per hectare)` = col_double(),
##   `Cassava (tonnes per hectare)` = col_double(),
##   `Barley (tonnes per hectare)` = col_double(),
##   `Cocoa beans (tonnes per hectare)` = col_double(),
##   `Bananas (tonnes per hectare)` = col_double()
## )
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#75715e">#Change colname </span>
<span style="color:#a6e22e">colnames</span>(crop)[10] <span style="color:#f92672">&lt;-</span> <span style="color:#e6db74">&#34;peas&#34;</span>

<span style="color:#75715e">#subset to peas</span>
peas <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">select </span>(crop, Year, peas, Entity, Code)

<span style="color:#75715e">#make NA equal Region/Continent for code</span>
peas<span style="color:#f92672">$</span>Code <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">fct_explicit_na</span>(peas<span style="color:#f92672">$</span>Code, na_level <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Region/Continent&#34;</span>)

<span style="color:#75715e">#change Northern America to North America</span>
peas<span style="color:#f92672">$</span>Entity <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">recode </span>(peas<span style="color:#f92672">$</span>Entity, <span style="color:#e6db74">&#34;Northern America&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;North America&#34;</span>)


<span style="color:#75715e">#filter just to include continents</span>
p_cont <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">filter </span>(peas, Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Africa&#34;</span> <span style="color:#f92672">|</span> Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Asia&#34;</span><span style="color:#f92672">|</span>
                    Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Australia&#34;</span><span style="color:#f92672">|</span> Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;Europe&#34;</span><span style="color:#f92672">|</span>
                    Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;South America&#34;</span><span style="color:#f92672">|</span> Entity <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;North America&#34;</span>)


<span style="color:#75715e">#plot amount of peas by year and entity for continents</span>
continent_plot <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">ggplot </span>(data <span style="color:#f92672">=</span> p_cont, <span style="color:#a6e22e">aes </span>(x<span style="color:#f92672">=</span>Year, y <span style="color:#f92672">=</span> peas, color <span style="color:#f92672">=</span> Entity)) <span style="color:#f92672">+</span> 
  <span style="color:#a6e22e">geom_smooth </span>(se<span style="color:#f92672">=</span><span style="color:#66d9ef">FALSE</span>)<span style="color:#f92672">+</span>
  <span style="color:#a6e22e">theme </span>(axis.text.x <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text </span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>), 
         axis.text.y <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_text </span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>),  
         panel.background <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank </span>(),
         axis.line <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_line </span>(color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>),
         legend.title <span style="color:#f92672">=</span> <span style="color:#a6e22e">element_blank</span>(), 
         legend.position<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;none&#34;</span>,
         plot.margin <span style="color:#f92672">=</span> <span style="color:#a6e22e">margin </span>(<span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">2.6</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#ae81ff">0.1</span>, <span style="color:#e6db74">&#34;cm&#34;</span>))<span style="color:#f92672">+</span>
  <span style="color:#a6e22e">labs</span>(title <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;North America Takes Lead in Pea Production&#34;</span>, 
       x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34; &#34;</span>, 
       y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Tons per Hectare&#34;</span>)  

<span style="color:#75715e">#adding labels at end</span>
continent_plot_labels <span style="color:#f92672">&lt;-</span> <span style="color:#a6e22e">direct.label </span>(continent_plot, method <span style="color:#f92672">=</span> <span style="color:#a6e22e">list</span>(col <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;black&#34;</span>, <span style="color:#e6db74">&#34;last.bumpup&#34;</span>)) <span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_y_continuous </span>(limits <span style="color:#f92672">=</span> <span style="color:#a6e22e">c</span>(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">3</span>))<span style="color:#f92672">+</span>
  <span style="color:#a6e22e">scale_x_continuous </span>(limits <span style="color:#f92672">=</span> <span style="color:#a6e22e">c </span>(<span style="color:#ae81ff">1990</span>, <span style="color:#ae81ff">2020</span>))<span style="color:#f92672">+</span>
  <span style="color:#a6e22e">coord_cartesian </span>(clip <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;off&#34;</span>)
</code></pre></div><pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
</code></pre><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-r" data-lang="r"><span style="color:#a6e22e">print </span>(continent_plot_labels)
</code></pre></div><pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
</code></pre><pre><code>## Warning: Removed 174 rows containing non-finite values (stat_smooth).
</code></pre><pre><code>## `geom_smooth()` using method = 'loess' and formula 'y ~ x'
</code></pre><pre><code>## Warning: Removed 174 rows containing non-finite values (stat_smooth).
</code></pre><p><!-- raw HTML omitted --></p>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

